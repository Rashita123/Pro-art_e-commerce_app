{"ast":null,"code":"import _asyncToGenerator from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/src/LoginPage/LoginPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"./LoginPage.css\";\nimport { Button } from \"forkui-lib\";\nimport { useLanguageContext, useLoginContext } from \"../AllContext\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useLocation, useNavigate, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var LoginPage = function LoginPage() {\n  _s();\n\n  var _useLoginContext = useLoginContext(),\n      login = _useLoginContext.login,\n      setLogin = _useLoginContext.setLogin,\n      user = _useLoginContext.user,\n      setUser = _useLoginContext.setUser;\n\n  var _useLanguageContext = useLanguageContext(),\n      language = _useLanguageContext.language;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useLocation = useLocation(),\n      state = _useLocation.state;\n\n  var navigate = useNavigate();\n  var emailInput = useRef(null);\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showWrongPassword = _useState6[0],\n      setShowWrongPassword = _useState6[1];\n\n  var currentUser = {\n    username: \"rashitamehta\",\n    email: \"rashita@gmail.com\",\n    password: \"Rashita@neog\"\n  };\n\n  var submitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (login) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return axios.post('http://localhost:4000/users/login', {\n                email: email,\n                password: password\n              }).then(function (res) {\n                if (res.status === 200) {\n                  var _localStorage;\n\n                  console.log(res);\n                  setLogin(true);\n                  setUser({\n                    email: res.data.email,\n                    username: res.data.email\n                  });\n                  (_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.setItem(\"ProArtLogin\", JSON.stringify({\n                    login: true\n                  }));\n                  setShowWrongPassword(false);\n                  setEmail(\"\");\n                  setPassword(\"\");\n                  navigate(state !== null && state !== void 0 && state.from ? state.from : \"/\");\n                } else {\n                  setShowWrongPassword(true);\n                }\n              });\n\n            case 3:\n              _context.next = 11;\n              break;\n\n            case 5:\n              setLogin(false);\n              localStorage.removeItem(\"ProArtLogin\");\n              setShowWrongPassword(false);\n              setEmail(\"\");\n              setPassword(\"\");\n              navigate(state !== null && state !== void 0 && state.from ? state.from : \"/\");\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitHandler() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    emailInput.current.focus();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-top-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: login ? language.logout : language.login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: emailInput,\n        value: email,\n        onChange: function onChange(e) {\n          setShowWrongPassword(false);\n          setEmail(e.target.value);\n        },\n        className: \"big-input\",\n        placeholder: language.eMail,\n        type: \"email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: password,\n        onChange: function onChange(e) {\n          setShowWrongPassword(false);\n          setPassword(e.target.value);\n        },\n        className: \"big-input\",\n        placeholder: language.password,\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, _this), !login && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form-remember-me\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Remember Me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, _this), showWrongPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"red-text\",\n        children: \"Incorrect Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 31\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        margin: \"1rem\",\n        isDisabled: showWrongPassword,\n        onClickHandler: submitHandler,\n        text: language.submit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, _this), !login && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-from-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Not a member?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-up\",\n        children: \"Sign Up Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, _this), login && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-from-login\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-up\",\n        children: \"Create a new Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(LoginPage, \"2Xw73hGaF6xSwkNGigHUX/gDiIE=\", false, function () {\n  return [useLoginContext, useLanguageContext, useLocation, useNavigate];\n});\n\n_c = LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["Button","useLanguageContext","useLoginContext","useState","useRef","useEffect","useLocation","useNavigate","Link","axios","LoginPage","login","setLogin","user","setUser","language","email","setEmail","password","setPassword","state","navigate","emailInput","showWrongPassword","setShowWrongPassword","currentUser","username","submitHandler","post","then","res","status","console","log","data","localStorage","setItem","JSON","stringify","from","removeItem","current","focus","logout","e","target","value","eMail","submit"],"sources":["/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/src/LoginPage/LoginPage.js"],"sourcesContent":["import \"./LoginPage.css\";\nimport { Button } from \"forkui-lib\";\nimport { useLanguageContext, useLoginContext } from \"../AllContext\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useLocation, useNavigate, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nexport const LoginPage = () => {\n  const { login, setLogin, user, setUser } = useLoginContext();\n  const { language } = useLanguageContext();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const { state } = useLocation();\n  const navigate = useNavigate();\n  const emailInput = useRef(null);\n  const [showWrongPassword, setShowWrongPassword] = useState(false);\n  const currentUser = {\n    username: \"rashitamehta\",\n    email: \"rashita@gmail.com\",\n    password: \"Rashita@neog\"\n  };\n\n  const submitHandler = async() => {\n    if (!login) {\n      await axios.post('http://localhost:4000/users/login', {email, password})\n      .then(res => {\n        if (res.status === 200) {\n          console.log(res);\n          setLogin(true);\n          setUser({ email: res.data.email, username: res.data.email })\n          localStorage?.setItem(\"ProArtLogin\", JSON.stringify({ login: true }));\n          setShowWrongPassword(false);\n          setEmail(\"\");\n          setPassword(\"\");\n          navigate(state?.from ? state.from : \"/\");\n        } else {\n          setShowWrongPassword(true);\n        }\n      })\n    }\n    else{\n      setLogin(false);\n      localStorage.removeItem(\"ProArtLogin\");\n      setShowWrongPassword(false);\n      setEmail(\"\");\n      setPassword(\"\");\n      navigate(state?.from ? state.from : \"/\");\n    }\n      \n    // } else {\n    //   if (email === user.email && password === user.password) {\n    //     \n    //     \n    //     \n    //     \n    //   } else {\n    //     setShowWrongPassword(true);\n    //   }\n    // }\n  };\n  useEffect(() => {\n    emailInput.current.focus();\n  }, []);\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-top-div\">\n        <h3>{login ? language.logout : language.login}</h3>\n        <input\n          ref={emailInput}\n          value={email}\n          onChange={(e) => {\n            setShowWrongPassword(false);\n            setEmail(e.target.value);\n          }}\n          className=\"big-input\"\n          placeholder={language.eMail}\n          type=\"email\"\n          required\n        ></input>\n\n        <input\n          value={password}\n          onChange={(e) => {\n            setShowWrongPassword(false);\n            setPassword(e.target.value);\n          }}\n          className=\"big-input\"\n          placeholder={language.password}\n          type=\"password\"\n          required\n        ></input>\n        {!login && (\n          <div className=\"login-form-remember-me\">\n            <input type=\"checkbox\" />\n            <label>Remember Me</label>\n          </div>\n        )}\n        {showWrongPassword && <p className=\"red-text\">Incorrect Password</p>}\n        <Button\n          margin=\"1rem\"\n          isDisabled={showWrongPassword}\n          onClickHandler={submitHandler}\n          text={language.submit}\n        />\n      </div>\n      {!login && (\n        <div className=\"sign-up-from-login\">\n          <span>Not a member?</span>\n          <Link to=\"/sign-up\">Sign Up Now</Link>\n        </div>\n      )}\n\n      {login && (\n        <div className=\"sign-up-from-login\">\n          <Link to=\"/sign-up\">Create a new Account</Link>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
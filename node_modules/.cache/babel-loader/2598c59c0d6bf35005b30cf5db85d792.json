{"ast":null,"code":"import _objectSpread from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/src/SignUpPage/SignUpPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"./SignUpPage.css\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { useLanguageContext } from \"../AllContext/languageContext\";\nimport { useLoginContext } from \"../AllContext/LoginContext\";\nimport { Button } from \"forkui-lib\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var SignUpPage = function SignUpPage() {\n  _s();\n\n  var usernameRef = useRef(null);\n  useEffect(function () {\n    usernameRef.current.focus();\n  }, []);\n  var navigate = useNavigate();\n\n  var _useLanguageContext = useLanguageContext(),\n      language = _useLanguageContext.language;\n\n  var _useLoginContext = useLoginContext(),\n      login = _useLoginContext.login,\n      setLogin = _useLoginContext.setLogin,\n      users = _useLoginContext.users,\n      setUsers = _useLoginContext.setUsers;\n\n  var initialUserDetails = {\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  };\n\n  var _useState = useState(initialUserDetails),\n      _useState2 = _slicedToArray(_useState, 2),\n      newUserDetails = _useState2[0],\n      setNewUserDetails = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      valid = _useState4[0],\n      setValid = _useState4[1];\n\n  var resetInputFields = function resetInputFields() {\n    setNewUserDetails(initialUserDetails);\n  };\n\n  var submitNewUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(newUserDetails) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post('http://localhost:4000/users/register', newUserDetails);\n\n            case 2:\n              res = _context.sent;\n              console.log({\n                res: res\n              }); // .then(res => {\n              //     console.log(res)\n              //     if (res.status === 201) {\n              //       setNewUserDetails(initialUserDetails);\n              //       // setLogin(true);\n              //       navigate(\"/login\");\n              //     } else {\n              //       console.log({res})\n              //       setValid(false);\n              //     }})\n              // .catch(err => console.log(err))\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitNewUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sign-up-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-top-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create a new Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: usernameRef,\n        value: newUserDetails.username,\n        onChange: function onChange(e) {\n          setNewUserDetails(_objectSpread(_objectSpread({}, newUserDetails), {}, {\n            username: e.target.value\n          }));\n        },\n        className: \"big-input\",\n        type: \"text\",\n        required: true,\n        placeholder: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newUserDetails.email,\n        onChange: function onChange(e) {\n          setValid(true);\n          setNewUserDetails(_objectSpread(_objectSpread({}, newUserDetails), {}, {\n            email: e.target.value\n          }));\n        },\n        className: \"big-input\",\n        placeholder: language.eMail,\n        type: \"email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newUserDetails.password,\n        onChange: function onChange(e) {\n          setNewUserDetails(_objectSpread(_objectSpread({}, newUserDetails), {}, {\n            password: e.target.value\n          }));\n        },\n        className: \"big-input\",\n        placeholder: language.password,\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this), !valid && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"red-text\",\n        children: \"E-mail already in use\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 20\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          margin: \"1rem\",\n          text: language.submit,\n          onClickHandler: function onClickHandler() {\n            return submitNewUser(newUserDetails);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          margin: \"1rem\",\n          text: \"Reset\",\n          variant: \"secondaryToPrimary\",\n          onClickHandler: resetInputFields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, _this), !login && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-from-sign-up\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Already a user?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(SignUpPage, \"XsAiNuHIp5hF1JwJCWvOzqTbsKU=\", false, function () {\n  return [useNavigate, useLanguageContext, useLoginContext];\n});\n\n_c = SignUpPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpPage\");","map":{"version":3,"names":["useRef","useEffect","useState","useLanguageContext","useLoginContext","Button","Link","useNavigate","axios","SignUpPage","usernameRef","current","focus","navigate","language","login","setLogin","users","setUsers","initialUserDetails","username","email","password","newUserDetails","setNewUserDetails","valid","setValid","resetInputFields","submitNewUser","post","res","console","log","e","target","value","eMail","submit"],"sources":["/Users/rashitamehta/Desktop/projects/Pro-art_e-commerce_app/Pro-art_e-commerce_app/src/SignUpPage/SignUpPage.js"],"sourcesContent":["import \"./SignUpPage.css\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { useLanguageContext } from \"../AllContext/languageContext\";\nimport { useLoginContext } from \"../AllContext/LoginContext\";\nimport { Button } from \"forkui-lib\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport const SignUpPage = () => {\n  const usernameRef = useRef(null);\n  useEffect(() => {\n    usernameRef.current.focus();\n  }, []);\n  const navigate = useNavigate();\n  const { language } = useLanguageContext();\n  const { login, setLogin, users, setUsers } = useLoginContext();\n  const initialUserDetails = { username: \"\", email: \"\", password: \"\" };\n  const [newUserDetails, setNewUserDetails] = useState(initialUserDetails);\n  const [valid, setValid] = useState(true);\n  const resetInputFields = () => {\n    setNewUserDetails(initialUserDetails);\n  };\n  const submitNewUser = async (newUserDetails) => {\n    const res = await axios.post('http://localhost:4000/users/register', newUserDetails)\n    console.log({res});\n    // .then(res => {\n    //     console.log(res)\n    //     if (res.status === 201) {\n    //       setNewUserDetails(initialUserDetails);\n    //       // setLogin(true);\n    //       navigate(\"/login\");\n    //     } else {\n    //       console.log({res})\n    //       setValid(false);\n    //     }})\n    // .catch(err => console.log(err))\n  };\n  return (\n    <div className=\"sign-up-page\">\n      <div className=\"sign-up-top-div\">\n        <h3>Create a new Account</h3>\n        <input\n          ref={usernameRef}\n          value={newUserDetails.username}\n          onChange={(e) => {\n            setNewUserDetails({ ...newUserDetails, username: e.target.value });\n          }}\n          className=\"big-input\"\n          type=\"text\"\n          required\n          placeholder=\"Username\"\n        />\n\n        <input\n          value={newUserDetails.email}\n          onChange={(e) => {\n            setValid(true);\n            setNewUserDetails({ ...newUserDetails, email: e.target.value });\n          }}\n          className=\"big-input\"\n          placeholder={language.eMail}\n          type=\"email\"\n          required\n        />\n\n        <input\n          value={newUserDetails.password}\n          onChange={(e) => {\n            setNewUserDetails({ ...newUserDetails, password: e.target.value });\n          }}\n          className=\"big-input\"\n          placeholder={language.password}\n          type=\"password\"\n          required\n        ></input>\n        {!valid && <p className=\"red-text\">E-mail already in use</p>}\n        <div className=\"sign-up-buttons\">\n          <Button\n            margin=\"1rem\"\n            text={language.submit}\n            onClickHandler={() => submitNewUser(newUserDetails)}\n          />\n          <Button\n            margin=\"1rem\"\n            text=\"Reset\"\n            variant=\"secondaryToPrimary\"\n            onClickHandler={resetInputFields}\n          />\n        </div>\n      </div>\n      {!login && (\n        <div className=\"login-from-sign-up\">\n          <span>Already a user?</span>\n          <Link to=\"/login\">Login</Link>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}